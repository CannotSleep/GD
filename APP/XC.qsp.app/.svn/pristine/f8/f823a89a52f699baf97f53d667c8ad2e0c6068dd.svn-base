require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([16],{70:function(t,e,a){"use strict";var i=n(a(1)),s=n(a(71));function n(t){return t&&t.__esModule?t:{default:t}}new i.default(s.default).$mount()},71:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(73),s=a.n(i),n=a(74),o=!1;var r=function(t){o||a(72)},c=a(0)(s.a,n.a,r,"data-v-302c76c3",null);c.options.__file="F:\\施工管理平台\\20181101\\XC.qsp.app\\pages\\index\\site\\Concrete.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] Concrete.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},72:function(t,e){},73:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,s=a(3),n=(i=s)&&i.__esModule?i:{default:i};e.default={onLoad:function(){this.testToken=n.default.net.GetLocalToken(),this.getProject()},data:function(){return{projectList:[],projectIndex:0,projectVal:"",projectText:"",gradeList:[{value:"C15",text:"C15"},{value:"C20",text:"C20"},{value:"C25",text:"C25"},{value:"C30",text:"C30"},{value:"C35",text:"C35"},{value:"C40",text:"C40"},{value:"C45",text:"C45"},{value:"C50",text:"C50"},{value:"C55",text:"C55"},{value:"C60",text:"C60"}],grade:0,checkDate:"2018-09-26",ConcreteDate:"2018-09-26",ComponentList:[{value:0,text:"墙柱"},{value:1,text:"梁板"}],ComponentIndex:0,ComponentVal:"",TestState:"侧面",isAdd:!0,tapTimes:0,dataList:[],Floor:"",Temperature:""}},methods:{getProject:function(){var e=this,a=n.default.net.setUrl("api/DropDownListApi/GetProject");t.request({url:a,method:"GET",header:{token:this.testToken},success:function(t){var a=t.data,i=a.data;i.unshift({value:"08876894",text:"请选择项目"}),(a.status=1)?(e.projectList=e.setData(i),e.projectVal=e.projectList[e.projectIndex].value,e.projectText=e.projectList[e.projectIndex].text):console.log("项目获取失败"+a.status)},fail:function(t,e){console.log("项目数据请求失败"+t+e)},complete:function(){}})},addDatas:function(){var e=this.dataList.length+1;if(!(e<16))return console.log(this.dataList),t.showToast({title:"最多添加16条"}),!1;this.dataList.push({dataNum:e}),e+=1},changeCheckDate:function(t){this.checkDate=t.detail.value},changeConcreteDate:function(t){this.ConcreteDate=t.detail.value},changeComponent:function(t){this.ComponentIndex=t.detail.value},changeGrade:function(t){this.grade=t.detail.value},changeProject:function(t){this.projectIndex=t.detail.value,this.projectVal=this.projectList[t.detail.value].value,this.projectText=this.projectList[this.projectIndex].text},setData:function(t){var e=[];return t.forEach(function(t){e.push({text:t.text,value:t.value})}),e},submit:function(){var e=n.default.net.setUrl("api/QualityConcreteBackApi/AddOrUpdate"),a=[];for(var i in this.dataList)a.push(this.dataList[i].dataInput);console.log(a);var s={ProjectID:this.projectVal,ProjectName:this.projectText,Grade:this.grade,Floor:this.Floor,TestState:this.TestState,CheckPeople:n.default.net.GetUser().ID,ConcreteDate:this.ConcreteDate,CheckDate:this.checkDate,ComponentType:this.ComponentVal,Temperature:this.Temperature,Remark:"",DetailCollection:[{Name:"1",DataAttr:a}]};console.log(s),t.request({url:e,method:"POST",header:{Token:this.testToken},data:JSON.stringify(s),success:function(e){var a=e.data;a.data;1==a.status?(t.showToast({title:"提交成功",mask:!1,duration:1500}),setTimeout(function(){t.navigateBack({delta:1})},2e3)):(console.log(a.message),t.showToast({title:"请填写正确数据",mask:!1,duration:1500}))},fail:function(){console.log("实测实量提交失败")},complete:function(){}})}}}}).call(e,a(2).default)},74:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"input-row"},[t._m(0),t._v(" "),a("picker",{attrs:{value:t.projectIndex,range:t.projectList,"range-key":"text",eventid:"H4E-0"},on:{change:t.changeProject}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.projectText))])])],1),t._v(" "),t._m(1),t._v(" "),a("view",{staticClass:"input-row"},[t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Floor,expression:"Floor"}],attrs:{type:"text",value:"",placeholder:"请填写测量部位",eventid:"dm4-1"},domProps:{value:t.Floor},on:{input:function(e){e.target.composing||(t.Floor=e.target.value)}}})]),t._v(" "),a("view",{staticClass:"input-row"},[t._m(3),t._v(" "),a("picker",{attrs:{value:t.grade,range:t.gradeList,"range-key":"text",eventid:"nhj-2"},on:{change:t.changeGrade}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.gradeList[t.grade].text))])])],1),t._v(" "),a("view",{staticClass:"input-row"},[t._m(4),t._v(" "),a("picker",{attrs:{mode:"date",value:t.ConcreteDate,start:"2018-09-26",end:"2028-12-31",eventid:"o9E-3"},on:{change:t.changeConcreteDate}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.ConcreteDate))])])],1),t._v(" "),a("view",{staticClass:"input-row"},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.TestState,expression:"TestState"}],attrs:{type:"text",value:t.TestState,placeholder:"",disabled:"disabled",eventid:"6BJ-4"},domProps:{value:t.TestState},on:{input:function(e){e.target.composing||(t.TestState=e.target.value)}}})]),t._v(" "),a("view",{staticClass:"input-row"},[t._m(6),t._v(" "),a("picker",{attrs:{value:t.ComponentIndex,range:t.ComponentList,"range-key":"text",eventid:"ZIC-5"},on:{change:t.changeComponent}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.ComponentList[t.ComponentIndex].text))])])],1),t._v(" "),a("view",{staticClass:"input-row"},[t._m(7),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Temperature,expression:"Temperature"}],attrs:{type:"text",value:"",placeholder:"请填写日平均温度",eventid:"vKB-6"},domProps:{value:t.Temperature},on:{input:function(e){e.target.composing||(t.Temperature=e.target.value)}}})]),t._v(" "),a("view",{staticClass:"input-row"},[t._m(8),t._v(" "),a("picker",{attrs:{mode:"date",value:t.checkDate,start:"2018-09-26",end:"2028-12-31",eventid:"7M7-7"},on:{change:t.changeCheckDate}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.checkDate))])])],1),t._v(" "),a("view",{staticClass:"input-row"},[t._m(9),t._v(" "),a("view",{staticClass:"data-row"},[a("button",{attrs:{size:"mini",type:"default",eventid:"fDj-8"},on:{tap:t.addDatas}},[t._v("添加数据")])],1)]),t._v(" "),t._l(t.dataList,function(e,i){return t.isAdd?a("block",{key:i},[t.isAdd?a("view",{staticClass:"input-row"},[a("view",{staticClass:"input-label"},[t._v("\n\t\t\t\t数据:"+t._s(e.dataNum)+"\n\t\t\t")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dataInput,expression:"item.dataInput"}],attrs:{type:"text",placeholder:"请输入测量数据",eventid:"4L2-9-"+i},domProps:{value:e.dataInput},on:{input:function(t){t.target.composing||(e.dataInput=t.target.value)}}})]):t._e()]):t._e()}),t._v(" "),a("view",{staticClass:"button-row mt-20"},[a("button",{attrs:{type:"primary",size:"mini",eventid:"IZE-10"},on:{tap:t.submit}},[t._v("提交")]),t._v(" "),a("button",{attrs:{type:"default",size:"mini"}},[t._v("暂存")])],1)],2)};i._withStripped=!0;var s={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"http://xcbucket.oss-cn-beijing.aliyuncs.com/%E6%98%9F%E5%B1%82%E7%8E%B0%E5%9C%BA%E7%AE%A1%E7%90%86APP/img/Site/hnt/list1_icon2-03.png",mode:""}}),this._v(" "),e("text",[this._v("项目名称:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-row"},[e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("测量部位:")])]),this._v(" "),e("input",{attrs:{type:"text",value:"",placeholder:"请填写测量部位"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("楼层:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("混凝土强度设计等级:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-13.png",mode:""}}),this._v(" "),e("text",[this._v("砼浇筑时间:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("测量部位:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("构件类型:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-01.png",mode:""}}),this._v(" "),e("text",[this._v("日平均温度:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-13.png",mode:""}}),this._v(" "),e("text",[this._v("检查日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("image",{attrs:{src:"../../../static/img/list1_icon/list1_icon-13.png",mode:""}}),this._v(" "),e("text",[this._v("测量数据:")])])}]};e.a=s}},[70]);
//# sourceMappingURL=../../../.sourcemap/pages/index/site/Concrete.js.map