{"version":3,"sources":["webpack:///./F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.js","webpack:///F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue","webpack:///./F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue","webpack:///F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue?e47f"],"names":["__webpack_require__","Vue","App","$mount","__WEBPACK_IMPORTED_MODULE_1__E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_5a7ef62d_hasScoped_true_preserveWhitespace_false_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_MP_WEIXIN_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_Repley_vue__","disposed","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__E_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_E_HBuilderX_plugins_uniapp_node_modules_babel_runtime_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_MP_WEIXIN_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_Repley_vue___default","a","options","__file","esModule","Object","keys","some","key","substr","console","error","functional","__webpack_exports__","data","pageId","Type","Token","SubType","Title","url","Content","imageList","sourceTypeIndex","sizeTypeIndex","sourceType","sizeType","imgupindex","content","countIndex","count","forid","qtype","qid","onLoad","option","this","id","server","net","GetSessionToken","log","uni","setNavigationBarTitle","title","methods","sourceTypeChange","e","target","value","sizeTypeChange","countChange","chooseImage","_callee","isContinue","_this","_regenerator2","default","wrap","_context","prev","next","length","isFullImg","sent","abrupt","success","res","concat","tempFilePaths","stop","_ref","apply","arguments","_this2","Promise","showModal","confirm","fail","previewImage","current","dataset","src","urls","removeImage","pop","uploadImage","_this3","setUrl","uploadFile","header","filePath","name","formData","foreignId","type","uploadFileRes","showWrongTipsEx","showToast","mask","duration","onProgressUpdate","progress","totalBytesSent","totalBytesExpectedToSend","hideLoading","setTimeout","navigateBack","delta","Sub","ssub","qsub","_this4","QualityInspectID","ReplyContent","request","method","token","JSON","stringify","jsondata","complete","_this5","SecurityID","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","action","mode","_v","_s","directives","rawName","expression","placeholder","eventid","domProps","on","input","$event","composing","_l","image","index","data-src","tap","size","_withStripped","esExports","staticRenderFns"],"mappings":"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","file":"pages/index/quality/Repley.js","sourcesContent":["\nimport Vue from 'vue'\nimport App from 'F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue'\nconst app = new Vue(App)\napp.$mount()\n\n\n\n// WEBPACK FOOTER //\n// ./F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\extract-text-webpack-plugin\\\\dist\\\\loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\vue-style-loader!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-var-loader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\style-compiler\\\\index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a7ef62d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-upx-loader.js?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\postcss-loader?{\\\"config\\\":{\\\"path\\\":\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\.postcssrc.js\\\"},\\\"sourceMap\\\":true}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=styles&index=0!./Repley.vue\")\n}\nvar normalizeComponent = require(\"!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\babel-loader?{\\\"babelrc\\\":false,\\\"retainLines\\\":true,\\\"presets\\\":[[\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\",{\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"not ie <= 8\\\"]}}],\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-stage-2\\\"],\\\"plugins\\\":[[\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-runtime\\\",{\\\"helpers\\\":false,\\\"polyfill\\\":false,\\\"regenerator\\\":true,\\\"moduleName\\\":\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-runtime\\\"}],\\\"E:\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-decorators-legacy\\\"]}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=script&index=0!./Repley.vue\"\n/* template */\nimport __vue_template__ from \"!!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\template-compiler\\\\index?{\\\"id\\\":\\\"data-v-5a7ef62d\\\",\\\"hasScoped\\\":true,\\\"preserveWhitespace\\\":false}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"html\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!E:\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=template&index=0!./Repley.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a7ef62d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"F:\\\\施工管理平台\\\\20181101\\\\XC.qsp.app\\\\pages\\\\index\\\\quality\\\\Repley.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] Repley.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-5a7ef62d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-5a7ef62d\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue\n// module id = 253\n// module chunks = 36","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport server from '../../../store/server.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpageId:'',\n\t\t\tType:1,  //1为安全检查 2为质量检查\n\t\t\tToken: '', //\n\t\t\tSubType:1,  //1为回复 2为复查 \n\t\t\tTitle:'',\n\t\t\turl:'',\n\t\t\tContent:'',\n\t\t\timageList:[],\n\t\t\tsourceTypeIndex: 2,\n\t\t\tsizeTypeIndex: 2,\n\t\t\tsourceType: ['拍照', '相册', '拍照或相册'],\n\t\t\tsizeType: ['压缩', '原图', '压缩或原图'],\n\t\t\timgupindex:0,\n\t\t\tcontent:'',\n\t\t\tcountIndex: 8,\n\t\t\tcount: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n\t\t\tforid:'',\n\t\t\tqtype:0,\n\t\t\tqid:''\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tthis.Type=option.Type //决定是质量还是安全  2为质量  1为安全\n\t\tthis.SubType = option.SubType;\n\t\tthis.pageId = option.id;\n\t\tthis.Token = server.net.GetSessionToken();\n\t\tswitch(this.SubType){\n\t\t\tcase '1':\n\t\t\t\tthis.Title = \"回复\";\n\t\t\t\tthis.qtype = 0;\n\t\t\t\tbreak;\n\t\t\tcase '2':\n\t\t\t\tthis.Title = \"复查\";\n\t\t\t\tthis.qtype =  1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tswitch(this.Type){  //1安全  2质量\n\t\t\tcase '1':\n\t\t\t\tthis.url='api/SecurityInspectApi/Reply';\n\t\t\tbreak;\n\t\t\tcase '2':\n\t\t\t\tthis.url='api/QualityApi/AddReply';\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\tconsole.log(this.url)\n\t\t//设置标题栏\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: this.Title\n\t\t});\n\t\t\n\t},\n\tmethods: {\n\t\tsourceTypeChange: function (e) {\n\t\t\tthis.sourceTypeIndex = e.target.value\n\t\t},\n\t\tsizeTypeChange: function (e) {\n\t\t\tthis.sizeTypeIndex = e.target.value\n\t\t},\n\t\tcountChange: function (e) {\n\t\t\tthis.countIndex = e.target.value;\n\t\t},\n\t\tchooseImage: async function () {\n\t\t\tif(this.imageList.length === 9){\n\t\t\t\tlet isContinue = await this.isFullImg();\n\t\t\t\tconsole.log(\"是否继续?\",isContinue);\n\t\t\t\tif(!isContinue){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tuni.chooseImage({\n\t\t\t\tsourceType: this.sourceType[this.sourceTypeIndex],\n\n\t\t\t\tsizeType: this.sizeType[this.sizeTypeIndex],\n\n\t\t\t\tcount: this.imageList.length + this.count[this.countIndex] > 9 ? 9 - this.imageList.length : this.count[this.countIndex],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.imageList = this.imageList.concat(res.tempFilePaths);\n\t\t\t\t\tconsole.log(this.imageList)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tisFullImg:function(){\n\t\t\treturn new Promise((res) => {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent:\"已经有9张图片了,是否清空现有图片？\",\n\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\tif(e.confirm){\n\t\t\t\t\t\t\tthis.imageList = [];\n\t\t\t\t\t\t\tres(true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tres(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail:() => {\n\t\t\t\t\t\tres(false)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tpreviewImage: function (e) {\n\t\t\tvar current = e.target.dataset.src\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: this.imageList\n\t\t\t})\n\t\t},\n\t\tremoveImage:function(e){\n\t\t\tconsole.log(\"移除图片\");\n\t\t\tthis.imageList.pop();\n\t\t},\n\t\tuploadImage:function(e){ //上传图片\n\t\t\tconsole.log(\"上传图片\")\n\t\t\tif(this.imgupindex!=this.imageList.length){\n\t\t\t\tlet url = server.net.setUrl('api/FileApi/FileUpload');\n\t\t\t\t\n\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\turl: url, //仅为示例，非真实的接口地址\n\t\t\t\t\theader:{\n\t\t\t\t\t\tToken:this.Token\n\t\t\t\t\t},\n\t\t\t\t\tfilePath:this.imageList[this.imgupindex],\n\t\t\t\t\tname:'123',\n\t\t\t\t\tformData: {\n\t\t\t\t\t\t'foreignId': this.qid,\n\t\t\t\t\t\t'type':'2'\n\t\t\t\t\t}, \n\t\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\t\tserver.net.showWrongTipsEx(uploadFileRes);\n\t\t\t\t\t\tconsole.log(uploadFileRes.data);\n\t\t\t\t\t\tconsole.log(\"上传成功\")\n\t\t\t\t\t\tthis.imgupindex+=1;\n\t\t\t\t\t\tthis.uploadImage();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '图片上传成功',\n\t\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});   \n\t\t\t\tuploadTask.onProgressUpdate((res) => {\n\t\t\t\t\tconsole.log('上传进度' + res.progress);\n\t\t\t\t\tconsole.log('已经上传的数据长度' + res.totalBytesSent);\n\t\t\t\t\tconsole.log('预期需要上传的数据总长度' + res.totalBytesExpectedToSend);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tuni.hideLoading();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t})\n\t\t\t\t}, 2000)\n\t\t\t}\n\n\t\t},\n\t\tSub:function(e){\n\t\t\tconsole.log(this.Type)\n\t\t\tswitch(this.Type){\n\t\t\t\tcase '1':\n\t\t\t\t\tthis.ssub();\n\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\tthis.qsub();\n\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tqsub:function(e){\n\t\t\t//添加回复\n\t\t\tconsole.log(this.pageId)\n\t\t\tlet url = server.net.setUrl(this.url);\n\t\t\t//let url = server.net.setUrl(this.url+\"?securityId=\" + this.pageId +\"&type=\" + this.SubType +\"&content=\"+this.content);\n\t\t\tlet data={\n\t\t\t\tQualityInspectID:this.pageId, \n\t\t\t\tType:this.qtype, \n\t\t\t\tReplyContent:this.content\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\ttoken: this.Token,\n\t\t\t\t},\n\t\t\t\tdata:JSON.stringify(data),\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tserver.net.showWrongTipsEx(res);\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tlet result = res.data;\n\t\t\t\t\tlet jsondata = result.data;\n\t\t\t\t\tthis.qid = jsondata;\n\t\t\t\t\tthis.uploadImage();\n\t\t\t\t},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t},\n\t\tssub:function(e){\n\t\t\t//添加回复\n\t\t\t\n\t\t\tconsole.log(this.pageId)\n\t\t\tlet url = server.net.setUrl(this.url);\n\t\t\tlet data={\n\t\t\t\tSecurityID:this.pageId, \n\t\t\t\tType:this.qtype, \n\t\t\t\tReplyContent:this.content\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\ttoken: this.Token,\n\t\t\t\t},\n\t\t\t\tdata:JSON.stringify(data),\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tserver.net.showWrongTipsEx(res);\n\t\t\t\t\tlet result = res.data;\n\t\t\t\t\tlet jsondata = result.data;\n\t\t\t\t\tthis.qid = jsondata;\n\t\t\t\t\tconsole.log(jsondata)\n\t\t\t\t\tthis.uploadImage();\n\t\t\t\t},\n\t\t\t\tfail: () => {},\n\t\t\t\tcomplete: () => {}\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('view', {\n    staticClass: \"content\"\n  }, [_c('form', {\n    staticClass: \"input-form\",\n    attrs: {\n      \"action\": \"\"\n    }\n  }, [_c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-03.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(_vm._s(_vm.Title) + \":\")])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.content),\n      expression: \"content\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"请选择\",\n      \"eventid\": 'pFJ-0'\n    },\n    domProps: {\n      \"value\": (_vm.content)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.content = $event.target.value\n      }\n    }\n  })]), _c('view', {\n    staticClass: \"input-row-my\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-15.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"请选择图片:\")])])]), _c('view', [_c('view', {\n    staticClass: \"uni-list-cell cell-pd\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader-head\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader-title\"\n  }, [_vm._v(\"点击可预览选好的图片\")]), _c('view', {\n    staticClass: \"uni-uploader-info\"\n  }, [_vm._v(_vm._s(_vm.imageList.length) + \"/9\")])]), _c('view', {\n    staticClass: \"uni-uploader-body\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__files\"\n  }, _vm._l((_vm.imageList), function(image, index) {\n    return _c('block', {\n      key: index\n    }, [_c('view', {\n      staticClass: \"uni-uploader__file\"\n    }, [_c('image', {\n      staticClass: \"uni-uploader__img\",\n      attrs: {\n        \"src\": image,\n        \"data-src\": image,\n        \"eventid\": 'G1x-1-' + index\n      },\n      on: {\n        \"tap\": _vm.previewImage\n      }\n    })])])\n  })), _c('view', {\n    staticClass: \"uni-uploader__input-box_my\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__input_my\",\n    attrs: {\n      \"eventid\": 'Jjz-2'\n    },\n    on: {\n      \"tap\": _vm.removeImage\n    }\n  })]), _c('view', {\n    staticClass: \"uni-uploader__input-box\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__input\",\n    attrs: {\n      \"eventid\": 'kTg-3'\n    },\n    on: {\n      \"tap\": _vm.chooseImage\n    }\n  })])])])])]), _c('view', {\n    staticClass: \"button-row\"\n  }, [_c('button', {\n    staticClass: \"search-btn\",\n    attrs: {\n      \"size\": \"mini\",\n      \"eventid\": 'ANY-4'\n    },\n    on: {\n      \"tap\": function($event) {\n        _vm.Sub()\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)])], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-5a7ef62d\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-5a7ef62d\",\"hasScoped\":true,\"preserveWhitespace\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"MP-WEIXIN\":true}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/Repley.vue\n// module id = 256\n// module chunks = 36"],"sourceRoot":""}