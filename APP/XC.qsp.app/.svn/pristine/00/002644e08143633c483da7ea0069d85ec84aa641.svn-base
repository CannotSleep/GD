require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([7],{15:function(e,t,o){"use strict";var n=a(o(1)),s=a(o(16));function a(e){return e&&e.__esModule?e:{default:e}}new n.default(s.default).$mount()},16:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(18),s=o.n(n),a=o(19),i=!1;var l=function(e){i||o(17)},c=o(0)(s.a,a.a,l,"data-v-31ecf256",null);c.options.__file="F:\\施工管理平台\\20181026\\XC-XCGL1\\pages\\login\\login.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] login.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},17:function(e,t){},18:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,s=o(3),a=(n=s)&&n.__esModule?n:{default:n};t.default={data:function(){return{src:"../../static/img/logo.png",account:"",password:"",loading:!1,isAuto:!1,array:["中建五局三公司","韶关印雪精舍项目","东莞市民服务中心"],objectArray:[{id:0,name:"中建五局三公司"},{id:1,name:"韶关印雪精舍项目"},{id:2,name:"东莞市民服务中心"}],index:0}},methods:{changeServer:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.detail.value},login:function(){var t=this;if(this.loading=!0,this.account.length<1)e.showToast({icon:"none",title:"用户名不能为空",success:function(e){t.loading=!1}});else if(this.password.length<1)e.showToast({icon:"none",title:"密码不能为空",success:function(e){t.loading=!1}});else{var o=JSON.stringify({AccountID:this.account,Password:this.password}),n=a.default.net.setUrl("api/loginapi/login");console.log("请求地址："+n),e.request({url:n,data:o,dataType:"json",method:"POST",header:{"content-type":"application/json"},success:function(o,n){var s=o.data;1==s.status?(e.showToast({icon:"none",title:"登录成功"}),a.default.net.SetSessionToken(s.token),console.log(t.isAuto),1==t.isAuto&&a.default.net.SetLocalToken(s.token),e.switchTab({url:"../index/index",fail:function(e){console.log("跳转失败")}}),a.default.net.SetUser(s.data),console.log("本次登录token："+a.default.net.GetSessionToken())):(console.log(s.message),e.showToast({icon:"none",title:s.message,success:function(e){t.loading=!1}}))},fail:function(){console.log("登录失败")},complete:function(){t.loading=!1}})}},autoLogin:function(e){console.log(e.detail.value),this.isAuto=e.detail.value}}}}).call(t,o(2).default)},19:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("view",{staticClass:"content"},[o("view",{staticClass:"img-group mt-20"},[o("image",{attrs:{src:e.src}})]),e._v(" "),o("view",{staticClass:"input-group mt-20"},[o("view",{staticClass:"login-input-row"},[o("picker",{attrs:{value:e.index,range:e.array,eventid:"QSb-0"},on:{change:e.changeServer}},[o("view",{staticClass:"uni-input"},[e._v(e._s(e.array[e.index]))])])],1),e._v(" "),o("view",{staticClass:"login-input-row mt-20"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",value:"",placeholder:"请输入用户名","placeholder-style":"color:#fff",eventid:"ukX-1"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),e._v(" "),o("view",{staticClass:"login-input-row mt-20"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",value:"",placeholder:"请输入密码","placeholder-style":"color:#fff",eventid:"zy5-2"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),o("view",{staticClass:"login-input-row mt-20 "},[o("view",{staticClass:"uni-list-cell uni-list-cell-pd"},[o("view",{staticClass:"uni-list-cell-db"},[e._v("自动登录")]),e._v(" "),o("switch",{attrs:{color:"#0ce998",eventid:"EkQ-3"},on:{change:e.autoLogin}})])]),e._v(" "),o("view",{staticClass:"btn-row"},[o("button",{attrs:{type:"primary",loading:e.loading,eventid:"Obh-4"},on:{tap:e.login}},[e._v("登录")])],1)])])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};t.a=s}},[15]);
//# sourceMappingURL=../../.sourcemap/pages/login/login.js.map