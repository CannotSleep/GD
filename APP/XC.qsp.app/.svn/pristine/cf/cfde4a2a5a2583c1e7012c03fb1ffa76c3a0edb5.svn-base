require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([27],{50:function(t,e,s){"use strict";var i=n(s(1)),a=n(s(51));function n(t){return t&&t.__esModule?t:{default:t}}new i.default(a.default).$mount()},51:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(53),a=s.n(i),n=s(54),l=!1;var o=function(t){l||s(52)},c=s(0)(a.a,n.a,o,"data-v-21db680d",null);c.options.__file="F:\\施工管理平台\\20181101\\XC.qsp.app\\pages\\index\\quality\\QualityDetails.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] QualityDetails.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},52:function(t,e){},53:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,a=s(3),n=(i=a)&&i.__esModule?i:{default:i};e.default={data:function(){return{pageId:"",testToken:"",SubcontractingUnit:"",Title:"",Number:"",RectPeople:"",Company:"",Building:"",Floor:"",SafetyDanger:"",DangerDes:"",ExpirDate:"",CrashLevel:"",CheckDate:"",ReCheckDate:"",State:"",Rectification:"",AddPeople:"",Project:"",isReply:!1,isApproval:!1,isRejected:!1,isRecheck:!1,isFinished:!1,replyContent:"",rejuectContent:""}},onLoad:function(t){this.pageId=t.id,this.testToken=n.default.net.GetLocalToken(),this.getDetails(t.id)},methods:{getDetails:function(e){var s=this,i=n.default.net.setUrl("api/QualityApi/GetDetail"),a={qid:e};t.request({url:i,method:"POST",dataType:"json",header:{Token:this.testToken,"content-type":"application/json"},data:JSON.stringify(a),success:function(e){var i=e.data,a=i.data;if(console.log(e),1==i.status)switch(s.Number=a.Number,s.Company=a.BranchCompanyName,s.Project=a.ProjectName,s.Title=a.Title,s.Floor=a.Floor,s.Building=a.Building,s.SubcontractingUnit=a.AdditionalUnitName,s.SafetyDanger=a.DangerDes,s.DangerDes=a.QualityDanger,s.RectPeople=a.RectPeopleName,s.Rectification=a.Rectification,s.AddPeople=a.CheckPeopleName,s.ExpirDate=a.ExpireDate,s.CheckDate=a.Checkdate.substring(0,10),s.ReCheckDate=a.ReCheckdate.substring(0,10),s.CrashLevel=a.CrashLevelName,s.State=a.StateName,a.State){case 0:s.isApproval=!0,s.isRejected=!0;break;case 1:s.isReply=!0;break;case 2:s.JudgeAc()}else console.log(i.message),t.showToast({title:i.message})},fail:function(e){console.log(e),t.showToast({title:"数据获取失败，请检查您的网络环境"})}})},JudgeAc:function(){var e=this,s=n.default.net.setUrl("api/QualityApi/JudgeAc?proid="+this.pageId);t.request({url:s,method:"POST",header:{token:this.testToken},success:function(t){console.log(t),"9"==t.data&&(e.isRecheck=!0,e.isFinished=!0)},fail:function(){},complete:function(){}})},Complete:function(){var e=n.default.net.setUrl("api/QualityApi/Complete"),s={id:this.pageId};t.request({url:e,method:"POST",data:JSON.stringify(s),header:{token:this.testToken},success:function(e){var s=e.data;console.log(e),t.showToast({title:s.message}),setTimeout(function(){t.navigateBack({delta:1})},2e3)},fail:function(){},complete:function(){}})},Reply:function(e){var s=n.default.net.setUrl("api/QualityApi/AddReply"),i={QualityInspectID:this.pageId,Type:e,ReplyContent:this.replyContent};t.request({url:s,method:"POST",header:{token:this.testToken,"content-type":"application/json"},data:JSON.stringify(i),success:function(e){var s=e.data;console.log(s.message),t.showToast({title:s.message}),setTimeout(function(){t.navigateBack({delta:1})},2e3)},fail:function(){},complete:function(){}})},Review:function(e){console.log(e);var s=n.default.net.setUrl("api/QualityApi/Pass"),i={id:this.pageId};t.request({url:s,method:"POST",data:JSON.stringify(i),header:{token:this.testToken},success:function(e){var s=e.data;console.log(e),t.showToast({title:s.message}),setTimeout(function(){t.navigateBack({delta:1})},2e3)},fail:function(){},complete:function(){}})},Reject:function(e){console.log(e);var s=n.default.net.setUrl("api/QualityApi/Refuse"+this.pageId),i={id:this.pageId};t.request({url:s,method:"POST",data:JSON.stringify(i),header:{token:this.testToken},success:function(e){var s=e.data;console.log(e),t.showToast({title:s.message}),setTimeout(function(){t.navigateBack({delta:1})},2e3)},fail:function(){},complete:function(){}})}}}}).call(e,s(2).default)},54:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"content"},[s("view",{staticClass:"input-row"},[t._m(0),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(Number)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(1),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Company)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(2),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Project)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(3),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Title)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(4),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Floor)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(5),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Building)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(6),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.SubcontractingUnit)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(7),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.SafetyDanger)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(8),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.DangerDes)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(9),t._v(" "),s("view",{staticClass:"detail-box"},[t._v("\n\t\t\t"+t._s(t.Rectification)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(10),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.RectPeople)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(11),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.ExpirDate)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(12),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.CheckDate)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(13),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.ReCheckDate)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(14),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.State)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(15),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.AddPeople)+"\n\t\t")])]),t._v(" "),s("view",{staticClass:"input-row"},[t._m(16),t._v(" "),s("view",{staticClass:"detail-box "},[t._v("\n\t\t\t"+t._s(t.State)+"\n\t\t")])]),t._v(" "),s("view",{directives:[{name:"show",rawName:"v-show",value:t.isReply,expression:"isReply"}],staticClass:"input-row"},[t._m(17),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{type:"text",value:"",placeholder:"请填写回复内容",eventid:"UP1-0"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}})]),t._v(" "),s("view",{directives:[{name:"show",rawName:"v-show",value:t.isRecheck,expression:"isRecheck"}],staticClass:"input-row"},[t._m(18),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{type:"text",value:"",placeholder:"请填写回复内容",eventid:"8LS-1"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}})]),t._v(" "),s("view",{directives:[{name:"show",rawName:"v-show",value:t.isRejected,expression:"isRejected"}],staticClass:"input-row"},[t._m(19),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{type:"text",value:"",placeholder:"请填写拒绝理由",eventid:"Oo6-2"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}})]),t._v(" "),s("view",{staticClass:"button-row mt-10"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.isReply,expression:"isReply"}],staticClass:"search-btn",attrs:{size:"mini",eventid:"rbz-3"},on:{tap:function(e){t.Reply(1)}}},[t._v("回复")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isApproval,expression:"isApproval"}],staticClass:"danger-btn",attrs:{size:"mini",eventid:"fqn-4"},on:{tap:function(e){t.Reject(4)}}},[t._v("审批拒绝")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isRejected,expression:"isRejected"}],staticClass:"search-btn",attrs:{size:"mini",eventid:"5eC-5"},on:{tap:function(e){t.Review(3)}}},[t._v("审批通过")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isRecheck,expression:"isRecheck"}],staticClass:"search-btn",attrs:{size:"mini",eventid:"Txd-6"},on:{tap:function(e){t.Reply(2)}}},[t._v("复查")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isFinished,expression:"isFinished"}],staticClass:"search-btn",attrs:{size:"mini",eventid:"g0k-7"},on:{tap:function(e){t.Complete()}}},[t._v("合格完成")])],1)])};i._withStripped=!0;var a={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("编号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("分公司:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("工程项目:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("标题:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("栋号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("楼号:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("分包单位:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("隐患类型:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("隐患描述:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("整改要求:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("整改人:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("整改日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("检查日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("复查日期:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("紧急级别:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("填写人:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("状态:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("回复:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("复查:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"input-label"},[e("text",[this._v("拒绝理由:")])])}]};e.a=a}},[50]);
//# sourceMappingURL=../../../.sourcemap/pages/index/quality/QualityDetails.js.map