require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([39],{

/***/ 217:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar _vue = __webpack_require__(1);var _vue2 = _interopRequireDefault(_vue);\nvar _QualityEdit = __webpack_require__(218);var _QualityEdit2 = _interopRequireDefault(_QualityEdit);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\nvar app = new _vue2.default(_QualityEdit2.default);\napp.$mount();\n\n//////////////////\n// WEBPACK FOOTER\n// F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/QualityEdit.js\n// module id = 217\n// module chunks = 39\n\n//# sourceURL=uni-app:///pages/index/quality/QualityEdit.js?c446");

/***/ }),

/***/ 218:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__E_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_E_HBuilderX_plugins_uniapp_node_modules_babel_runtime_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_QualityEdit_vue__ = __webpack_require__(220);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__E_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_E_HBuilderX_plugins_uniapp_node_modules_babel_runtime_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_QualityEdit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__E_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_E_HBuilderX_plugins_uniapp_node_modules_babel_runtime_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_QualityEdit_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_09a1fc4f_hasScoped_true_preserveWhitespace_false_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_QualityEdit_vue__ = __webpack_require__(221);\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(219)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-09a1fc4f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__E_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_E_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_E_HBuilderX_plugins_uniapp_node_modules_babel_runtime_E_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_QualityEdit_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_09a1fc4f_hasScoped_true_preserveWhitespace_false_E_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_APP_PLUS_true_E_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_QualityEdit_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"F:\\\\施工管理平台\\\\20181101\\\\XC.qsp.app\\\\pages\\\\index\\\\quality\\\\QualityEdit.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] QualityEdit.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-09a1fc4f\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-09a1fc4f\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n//////////////////\n// WEBPACK FOOTER\n// F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/QualityEdit.vue\n// module id = 218\n// module chunks = 39\n\n");

/***/ }),

/***/ 219:
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./lib/css-var-loader.js!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./lib/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-09a1fc4f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":1}!./lib/css-upx-loader.js?{\"baseDpr\":1,\"rpxUnit\":1}!./lib/preprocessor-loader.js?{\"type\":\"js\",\"context\":{\"APP-PLUS\":true}}!./node_modules/postcss-loader/lib?{\"config\":{\"path\":\"E://HBuilderX//plugins//uniapp//.postcssrc.js\"},\"sourceMap\":true}!./lib/preprocessor-loader.js?{\"type\":\"js\",\"context\":{\"APP-PLUS\":true}}!./lib/mpvue-loader/lib/selector.js?type=styles&index=0!F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/QualityEdit.vue\n// module id = 219\n// module chunks = 39\n\n");

/***/ }),

/***/ 220:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, \"__esModule\", { value: true });var _regenerator = __webpack_require__(4);var _regenerator2 = _interopRequireDefault(_regenerator);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _server = __webpack_require__(3);var _server2 = _interopRequireDefault(_server);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _asyncToGenerator(fn) {return function () {var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {function step(key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {return Promise.resolve(value).then(function (value) {step(\"next\", value);}, function (err) {step(\"throw\", err);});}}return step(\"next\");});};}exports.default =\n{\n\tdata: function data() {\n\t\treturn {\n\t\t\tToken: '',\n\t\t\ttitle: '',\n\t\t\tcompanyList: ['请选择分公司'],\n\t\t\tcompanyIndex: 0,\n\t\t\tcompanyText: '1',\n\t\t\tcompanyVal: '1',\n\t\t\tdong: '',\n\t\t\tceng: '',\n\t\t\tprojectList: ['请选择项目'],\n\t\t\tprojectIndex: 0,\n\t\t\tprojectText: '',\n\t\t\tprojectVal: '',\n\t\t\tareaList: ['请选择区域'],\n\t\t\tareaVal: '',\n\t\t\tareaIndex: 0,\n\t\t\tareaText: '',\n\t\t\tunitList: ['请选择施工单位'],\n\t\t\tunitVal: '',\n\t\t\tunitIndex: 0,\n\t\t\tunitText: '',\n\t\t\trectification: '',\n\t\t\tdangerList: ['请选择隐患类型'],\n\t\t\tdangerVal: '0',\n\t\t\tdangerIndex: 0,\n\t\t\tdangerText: '请选择隐患描述',\n\t\t\tdangerDesList: ['请选择隐患描述'],\n\t\t\tdangerDesVal: 0,\n\t\t\tdangerDesIndex: 0,\n\t\t\tdangerDesText: '',\n\t\t\trectiList: ['请选择整改人'],\n\t\t\trectpeople: '请选择整改人',\n\t\t\trectpeopleid: '0',\n\t\t\tnoticeList: ['请选择通知人'],\n\t\t\tnoticepeople: '请选择通知人',\n\t\t\tnoticepeopleid: '0',\n\t\t\tdegreeList: [{ text: '一般', value: '0' }, { text: '紧急', value: '1' }, { text: '严重', value: '2' }],\n\t\t\tdegreeVal: 0,\n\t\t\tdegreeText: '一般',\n\t\t\tdegreeIndex: 0,\n\t\t\tisDanger: 0,\n\t\t\tcheckDate: '2018-09-18',\n\t\t\tReCheckDate: '2018-10-18',\n\t\t\tdeadline: '2018-09-21',\n\t\t\ttime: '12:01',\n\t\t\tsourceTypeIndex: 2,\n\t\t\tsourceType: ['拍照', '相册', '拍照或相册'],\n\t\t\tsizeTypeIndex: 2,\n\t\t\tsizeType: ['压缩', '原图', '压缩或原图'],\n\t\t\tcountIndex: 8,\n\t\t\tcount: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n\t\t\tisfirstopen: 1,\n\t\t\titems: [\n\t\t\t{\n\t\t\t\tname: '是',\n\t\t\t\tvalue: '1' },\n\n\t\t\t{\n\t\t\t\tname: '否',\n\t\t\t\tvalue: '0' }],\n\n\n\t\t\timageList: [],\n\t\t\tqualityId: '',\n\t\t\teditIndex: 0,\n\t\t\tobjectIndex: '',\n\t\t\ttempList: [],\n\t\t\timgupindex: 0 };\n\n\t},\n\tonLoad: function onLoad(option) {\n\t\tvar index = option.index;\n\t\tthis.editIndex = index;\n\t\tthis.Token = _server2.default.net.GetSessionToken();\n\t\tthis.initDate();\n\t\tthis.getCompany();\n\t\tthis.getProject();\n\t\tthis.getArea();\n\t\tthis.getUnit();\n\t\tthis.getDanger();\n\t\tthis.getDangerDes();\n\t\tvar today = _server2.default.net.getFormatDate(new Date());\n\t\tconsole.log(today);\n\t\tthis.checkDate = today;\n\t\tthis.deadline = today;\n\t\tthis.ReCheckDate = today;\n\t},\n\tonShow: function onShow() {\n\t\tconsole.log(\"页面显示\");\n\t\tif (this.isfirstopen != 1) {\n\t\t\tvar id = uni.getStorageSync('selectID');\n\t\t\tvar name = uni.getStorageSync('selectName');\n\t\t\tif (name == '') {\n\t\t\t\tname = \"请选择整改人\";\n\t\t\t}\n\t\t\tthis.rectpeople = name;\n\t\t\tthis.rectpeopleid = id;\n\n\t\t\tvar ids = uni.getStorageSync('selectIDs');\n\t\t\tvar names = uni.getStorageSync('selectNames');\n\t\t\tif (names == '') {\n\t\t\t\tnames = \"请选择通知人\";\n\t\t\t}\n\t\t\tthis.noticepeople = names;\n\t\t\tthis.noticepeopleid = ids;\n\t\t}\n\t},\n\tmethods: {\n\t\tinitDate: function initDate(e) {\n\t\t\tvar safeoff = uni.getStorageSync('QualityListOffLine');\n\t\t\tthis.tempList = safeoff;\n\t\t\tvar chooseItem = safeoff[this.editIndex];\n\t\t\tthis.objectIndex = chooseItem;\n\t\t\tconsole.log(chooseItem);\n\t\t\tthis.companyVal = chooseItem.CompanyID;\n\t\t\tthis.companyText = chooseItem.CompanyName;\n\t\t\tthis.projectVal = chooseItem.ProjectID;\n\t\t\tthis.projectText = chooseItem.ProjectName;\n\t\t\tthis.title = chooseItem.Title;\n\t\t\tthis.dong = chooseItem.Building;\n\t\t\tthis.ceng = chooseItem.Floor;\n\t\t\tthis.unitVal = chooseItem.SubcontractingUnit;\n\t\t\tthis.unitText = chooseItem.SubcontractingUnitName;\n\t\t\tthis.dangerDesVal = chooseItem.DangerDesID;\n\t\t\tthis.dangerDesText = chooseItem.DangerDes;\n\t\t\tthis.dangerVal = chooseItem.SaftyDangerID;\n\t\t\tthis.dangerText = chooseItem.SaftyDanger;\n\t\t\tthis.deadline = chooseItem.ExpirDate;\n\t\t\tthis.rectification = chooseItem.Rectification;\n\t\t\tthis.checkDate = chooseItem.CheckDate;\n\t\t\tthis.degreeVal = chooseItem.CrashLevel;\n\t\t\tthis.degreeText = chooseItem.CrashLevelName;\n\t\t\tthis.imageList = chooseItem.ImageList;\n\t\t\tthis.rectpeople = chooseItem.RectPeopleName;\n\t\t\tthis.rectpeopleid = chooseItem.RectPeople;\n\t\t\tthis.noticepeople = chooseItem.NoticePeopleName;\n\t\t\tthis.noticepeopleid = chooseItem.NoticePeople;\n\t\t\tthis.isDanger = chooseItem.IsDanger;\n\t\t\tthis.companyIndex = chooseItem.CompanyIndex;\n\t\t\tthis.projectIndex = chooseItem.ProjectIndex;\n\t\t\tthis.areaIndex = chooseItem.AreaIndex;\n\t\t\tthis.unitIndex = chooseItem.UnitIndex;\n\t\t\tthis.dangerIndex = chooseItem.DangerIndex;\n\t\t\tthis.dangerDesIndex = chooseItem.DangerDesIndex;\n\t\t\tthis.degreeIndex = chooseItem.DegreeIndex;\n\t\t\tif (chooseItem.IsDanger == '1') {\n\t\t\t\tthis.items[0].checked = true;\n\t\t\t} else {\n\t\t\t\tthis.items[1].checked = true;\n\t\t\t}\n\t\t},\n\t\tsubmit: function submit(e) {var _this = this;\n\t\t\tuni.removeStorageSync('selectID');\n\t\t\tuni.removeStorageSync('selectName');\n\t\t\tuni.removeStorageSync('selectIDs');\n\t\t\tuni.removeStorageSync('selectNames');\n\t\t\tvar url = _server2.default.net.setUrl('api/QualityApi/Add');\n\t\t\tvar ajaxdata = {\n\t\t\t\t\"Title\": this.title,\n\t\t\t\t\"RectPeople\": this.rectpeopleid,\n\t\t\t\t\"ResponsibilityArea\": this.areaVal,\n\t\t\t\t\"ProjectID\": this.projectVal,\n\t\t\t\t\"AdditionalUnit\": this.unitVal,\n\t\t\t\t\"BranchCompany\": this.companyVal,\n\t\t\t\t\"Building\": this.dong,\n\t\t\t\t\"Floor\": this.ceng,\n\t\t\t\t\"QualityDangerID\": this.dangerVal,\n\t\t\t\t\"QualityDanger\": this.dangerText,\n\t\t\t\t\"DangerDesID\": this.dangerDesVal,\n\t\t\t\t\"DangerDes\": this.dangerDesText,\n\t\t\t\t\"Rectification\": this.rectification,\n\t\t\t\t\"NoticePeopleID\": this.noticepeopleid,\n\t\t\t\t\"ExpireDate\": this.deadline,\n\t\t\t\t\"CrashLevel\": this.degreeVal,\n\t\t\t\t\"CheckPeople\": _server2.default.net.GetUser().ID,\n\t\t\t\t\"IsDanger\": this.isDanger,\n\t\t\t\t\"Checkdate\": this.checkDate,\n\t\t\t\t\"ReCheckdate\": this.ReCheckDate };\n\n\t\t\tvar ispass = this.formcheck(ajaxdata);\n\t\t\tif (ispass) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '上传中',\n\t\t\t\t\tmask: true });\n\n\n\t\t\t\tuni.request({\n\t\t\t\t\turl: url,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theader: {\n\t\t\t\t\t\tToken: this.Token },\n\n\t\t\t\t\tdata: JSON.stringify(ajaxdata),\n\t\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t\t_server2.default.net.showWrongTipsEx(res);\n\t\t\t\t\t\tvar result = res.data;\n\t\t\t\t\t\tvar jsondata = result.data;\n\t\t\t\t\t\tif (result.status == 1) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\t\t\tduration: 1500 });\n\n\t\t\t\t\t\t\t_this.qualityId = jsondata;\n\t\t\t\t\t\t\t_this.tempList.splice(_this.editIndex, 1);\n\t\t\t\t\t\t\tuni.setStorageSync(\"QualityListOffLine\", _this.tempList);\n\t\t\t\t\t\t\tif (_this.imageList.length != 0) {\n\t\t\t\t\t\t\t\t_this.uploadImage();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\tdelta: 1 });\n\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(result.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function fail() {\n\t\t\t\t\t\tconsole.log(\"提交失败\");\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\tconsole.log(\"完成\");\n\t\t\t\t\t} });\n\n\t\t\t}\n\t\t},\n\t\tsourceTypeChange: function sourceTypeChange(e) {\n\t\t\tthis.sourceTypeIndex = e.target.value;\n\t\t},\n\t\tsizeTypeChange: function sizeTypeChange(e) {\n\t\t\tthis.sizeTypeIndex = e.target.value;\n\t\t},\n\t\tcountChange: function countChange(e) {\n\t\t\tthis.countIndex = e.target.value;\n\t\t},\n\t\tchooseImage: function () {var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee() {var _this2 = this;var isContinue;return _regenerator2.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (!(\n\t\t\t\t\t\t\t\tthis.imageList.length === 9)) {_context.next = 7;break;}_context.next = 3;return (\n\t\t\t\t\t\t\t\t\tthis.isFullImg());case 3:isContinue = _context.sent;\n\t\t\t\t\t\t\t\tconsole.log(\"是否继续?\", isContinue);if (\n\t\t\t\t\t\t\t\tisContinue) {_context.next = 7;break;}return _context.abrupt('return');case 7:\n\n\n\n\t\t\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\t\t\tsourceType: this.sourceType[this.sourceTypeIndex],\n\t\t\t\t\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\t\t\t\t\tcount: this.imageList.length + this.count[this.countIndex] > 9 ? 9 - this.imageList.length : this.count[this.countIndex],\n\t\t\t\t\t\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t\t\t\t\t\t//this.imageList = this.imageList.concat(res.tempFilePaths);\n\t\t\t\t\t\t\t\t\t\tconsole.log('压缩前');\n\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.stringify(res.tempFiles));\n\n\n\t\t\t\t\t\t\t\t\t\t//图片压缩\n\t\t\t\t\t\t\t\t\t\tconsole.log('star compressed');\n\t\t\t\t\t\t\t\t\t\t_this2.app_img(0, res);\n\n\t\t\t\t\t\t\t\t\t} });case 8:case 'end':return _context.stop();}}}, _callee, this);}));function chooseImage() {return _ref.apply(this, arguments);}return chooseImage;}(),\n\n\n\t\tisFullImg: function isFullImg() {var _this3 = this;\n\t\t\treturn new Promise(function (res) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: \"已经有9张图片了,是否清空现有图片？\",\n\t\t\t\t\tsuccess: function success(e) {\n\t\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\t\t_this3.imageList = [];\n\t\t\t\t\t\t\tres(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tres(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function fail() {\n\t\t\t\t\t\tres(false);\n\t\t\t\t\t} });\n\n\t\t\t});\n\t\t},\n\t\tpreviewImage: function previewImage(e) {\n\t\t\tvar current = e.target.dataset.src;\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: this.imageList });\n\n\t\t},\n\t\tremoveImage: function removeImage(e) {\n\t\t\tconsole.log(\"移除图片\");\n\t\t\tthis.imageList.pop();\n\t\t},\n\t\tuploadImage: function uploadImage(e) {var _this4 = this; //上传图片\n\n\n\t\t\tconsole.log(\"上传图片\");\n\n\t\t\tif (this.imgupindex != this.imageList.length) {\n\t\t\t\tvar url = _server2.default.net.setUrl('api/FileApi/FileUpload');\n\n\t\t\t\tvar uploadTask = uni.uploadFile({\n\t\t\t\t\turl: url, //仅为示例，非真实的接口地址\n\t\t\t\t\theader: {\n\t\t\t\t\t\tToken: this.Token },\n\n\t\t\t\t\tfilePath: this.imageList[this.imgupindex],\n\t\t\t\t\tname: '123',\n\t\t\t\t\tformData: {\n\t\t\t\t\t\t'foreignId': this.qualityId,\n\t\t\t\t\t\t'type': '2' },\n\n\t\t\t\t\tsuccess: function success(uploadFileRes) {\n\t\t\t\t\t\t_server2.default.net.showWrongTipsEx(uploadFileRes);\n\t\t\t\t\t\tconsole.log(uploadFileRes.data);\n\t\t\t\t\t\tconsole.log(\"上传成功\");\n\t\t\t\t\t\t_this4.imgupindex += 1;\n\t\t\t\t\t\t_this4.uploadImage();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '图片上传成功',\n\t\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\t\tduration: 1500 });\n\n\t\t\t\t\t} });\n\n\t\t\t\tuploadTask.onProgressUpdate(function (res) {\n\t\t\t\t\tconsole.log('上传进度' + res.progress);\n\t\t\t\t\tconsole.log('已经上传的数据长度' + res.totalBytesSent);\n\t\t\t\t\tconsole.log('预期需要上传的数据总长度' + res.totalBytesExpectedToSend);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1 });\n\n\t\t\t\t}, 2000);\n\t\t\t}\n\n\t\t},\n\t\ttempS: function tempS(e) {\n\t\t\tconsole.log(\"暂存\");\n\t\t\tvar tempObject = {\n\t\t\t\t\"Title\": this.title,\n\t\t\t\t\"CompanyID\": this.companyVal,\n\t\t\t\t\"CompanyName\": this.companyText,\n\t\t\t\t\"CompanyIndex\": this.companyIndex,\n\t\t\t\t\"ProjectIndex\": this.projectIndex,\n\t\t\t\t\"AreaIndex\": this.areaIndex,\n\t\t\t\t\"UnitIndex\": this.unitIndex,\n\t\t\t\t\"DangerIndex\": this.dangerIndex,\n\t\t\t\t\"DangerDesIndex\": this.dangerDesIndex,\n\t\t\t\t\"DegreeIndex\": this.degreeIndex,\n\t\t\t\t\"RectPeople\": this.rectpeopleid,\n\t\t\t\t\"RectPeopleName\": this.rectpeople,\n\t\t\t\t\"NoticePeople\": this.noticepeopleid,\n\t\t\t\t\"NoticePeopleName\": this.noticepeople,\n\t\t\t\t\"ProjectId\": this.projectVal,\n\t\t\t\t\"ProjectName\": this.projectText,\n\t\t\t\t\"SubcontractingUnit\": this.unitVal,\n\t\t\t\t\"SubcontractingUnitName\": this.unitText,\n\t\t\t\t\"Building\": this.dong,\n\t\t\t\t\"Floor\": this.ceng,\n\t\t\t\t\"ResponsibilityArea\": this.areaVal,\n\t\t\t\t\"ResponsibilityAreaName\": this.areaText,\n\t\t\t\t\"SaftyDangerID\": this.dangerVal,\n\t\t\t\t\"SaftyDanger\": this.dangerText,\n\t\t\t\t\"DangerDesID\": this.dangerDesVal,\n\t\t\t\t\"DangerDes\": this.dangerDesText,\n\t\t\t\t\"Rectification\": this.rectification,\n\t\t\t\t\"ExpirDate\": this.deadline,\n\t\t\t\t\"CrashLevel\": this.degreeVal,\n\t\t\t\t\"CrashLevelName\": this.degreeText,\n\t\t\t\t\"AddPeopleID\": _server2.default.net.GetUser().ID,\n\t\t\t\t\"CheckDate\": this.checkDate,\n\t\t\t\t\"ReCheckDate\": this.ReCheckDate,\n\t\t\t\t\"ImageList\": this.imageList,\n\t\t\t\t\"IsDanger\": this.isDanger };\n\n\n\t\t\tthis.tempList[this.editIndex] = tempObject;\n\n\t\t\tuni.setStorageSync(\"QualityListOffLine\", this.tempList);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '暂存成功',\n\t\t\t\tmask: false,\n\t\t\t\tduration: 1500 });\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1 });\n\n\t\t\t}, 2000);\n\n\n\t\t},\n\t\tgetCompany: function getCompany() {var _this5 = this; //获取公司数据\t\t\t\t\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetCompany');\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tdataType: 'json',\n\t\t\t\ttype: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tsuccess: function success(result) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(result);\n\t\t\t\t\tvar jsondata = result.data;\n\t\t\t\t\tvar dataArr = jsondata.data;\n\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\ttext: \"请选择公司\" };\n\n\t\t\t\t\t\tdataArr.unshift(first);\n\t\t\t\t\t\t_this5.companyList = _this5.setData(dataArr);\n\t\t\t\t\t\t_this5.companyVal = _this5.companyList[_this5.companyIndex].value;\n\t\t\t\t\t\t_this5.companyText = _this5.companyList[_this5.companyIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(jsondata.status);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: jsondata.status,\n\t\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\t\tduration: 1500 });\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"公司获取失败\" + data + code);\n\t\t\t\t} });\n\n\t\t},\n\t\tgetProject: function getProject() {var _this6 = this; //获取项目数据\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetProject');\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tdata: {\n\t\t\t\t\tcompany: this.companyVal },\n\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(data);\n\t\t\t\t\tvar jsondata = data.data;\n\t\t\t\t\tvar dataArr = jsondata.data;\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\ttext: \"请选择项目\" };\n\n\t\t\t\t\t\tdataArr.unshift(first);\n\t\t\t\t\t\t_this6.projectList = _this6.setData(dataArr);\n\t\t\t\t\t\t_this6.projectVal = _this6.projectList[_this6.projectIndex].value;\n\t\t\t\t\t\t_this6.projectText = _this6.projectList[_this6.projectIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"项目获取失败\" + jsondata.status);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"项目数据请求失败\" + data + code);\n\t\t\t\t} });\n\n\t\t},\n\t\tgetArea: function getArea() {var _this7 = this; //获取检查区域\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetUtilitySettings');\n\t\t\tvar data = {\n\t\t\t\ttype: 0 };\n\n\t\t\tif (this.projectVal != '') {\n\t\t\t\tdata.projectid = this.projectVal;\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(res);\n\t\t\t\t\tvar jsondata = res.data;\n\t\t\t\t\tvar dataArr = jsondata.data;\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tconsole.log(\"检查区域获取成功\");\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\ttext: \"请选择检查区域\" };\n\n\t\t\t\t\t\tdataArr.unshift(first);\n\t\t\t\t\t\t_this7.areaList = _this7.setData(dataArr);\n\t\t\t\t\t\t_this7.areaVal = _this7.areaList[_this7.areaIndex].value;\n\t\t\t\t\t\t_this7.areaText = _this7.areaList[_this7.areaIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"检查区域获取失败\" + jsondata.status);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"检查区域数据请求失败\" + data + code);\n\t\t\t\t} });\n\n\n\t\t},\n\t\tgetUnit: function getUnit() {var _this8 = this;\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetUtilitySettings');\n\t\t\tvar data = {\n\t\t\t\ttype: 1 };\n\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(data);\n\t\t\t\t\tvar jsondata = data.data;\n\t\t\t\t\tvar dataArr = jsondata.data;\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\ttext: \"请选择整改单位\" };\n\n\t\t\t\t\t\tdataArr.unshift(first);\n\t\t\t\t\t\t_this8.unitList = _this8.setData(dataArr);\n\t\t\t\t\t\t_this8.unitVal = _this8.unitList[_this8.unitIndex].value;\n\t\t\t\t\t\t_this8.unitText = _this8.unitList[_this8.unitIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"施工单位获取失败\" + jsondata.status);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"施工单位数据请求失败\" + data + code);\n\t\t\t\t} });\n\n\t\t},\n\t\tgetDanger: function getDanger() {var _this9 = this;\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetQualityDangerType');\n\t\t\tvar data = {\n\t\t\t\t\"type\": 1 };\n\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(data);\n\t\t\t\t\tvar jsondata = data.data;\n\t\t\t\t\tvar dataAtrr = jsondata.data;\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\ttext: \"请选择隐患类型\" };\n\n\t\t\t\t\t\tdataAtrr.unshift(first);\n\t\t\t\t\t\t_this9.dangerList = _this9.setData(dataAtrr);\n\t\t\t\t\t\t_this9.dangerVal = _this9.dangerList[_this9.dangerIndex].value;\n\t\t\t\t\t\t_this9.dangerText = _this9.dangerList[_this9.dangerIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"隐患类型获取失败\" + jsondata.status);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"施工单位数据请求失败\" + data + code);\n\t\t\t\t} });\n\n\t\t},\n\t\tgetDangerDes: function getDangerDes() {var _this10 = this;\n\t\t\tvar url = _server2.default.net.setUrl('api/DropDownListApi/GetQualityDangerDes');\n\t\t\tvar data = {\n\t\t\t\t\"size\": \"9999\",\n\t\t\t\t\"page\": \"1\",\n\t\t\t\t\"type\": \"1\",\n\t\t\t\t\"comid\": this.dangerVal };\n\n\n\t\t\tuni.request({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\tToken: this.Token },\n\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tsuccess: function success(data) {\n\t\t\t\t\t_server2.default.net.showWrongTipsEx(data);\n\t\t\t\t\tvar jsondata = data.data;\n\t\t\t\t\tvar dataAtrr = jsondata.data;\n\t\t\t\t\tif (jsondata.status == 1) {\n\t\t\t\t\t\tvar first = {\n\t\t\t\t\t\t\tvalue: \"0\",\n\t\t\t\t\t\t\ttext: \"请选择隐患描述\" };\n\n\t\t\t\t\t\tdataAtrr.unshift(first);\n\t\t\t\t\t\t_this10.dangerDesList = _this10.setData(dataAtrr);\n\t\t\t\t\t\t_this10.dangerDesVal = _this10.dangerDesList[_this10.dangerDesIndex].value;\n\t\t\t\t\t\t_this10.dangerDesText = _this10.dangerDesList[_this10.dangerDesIndex].text;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"隐患描述获取失败\" + jsondata.status);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function fail(data, code) {\n\t\t\t\t\tconsole.log(\"隐患描述获取失败\" + data + code);\n\t\t\t\t} });\n\n\n\t\t},\n\t\tsetData: function setData(items) {\n\t\t\tvar newItems = [];\n\t\t\t//console.log(items)\n\t\t\tif (items != null && items.length != 0) {\n\t\t\t\titems.forEach(function (e) {\n\t\t\t\t\tnewItems.push({\n\t\t\t\t\t\ttext: e.text,\n\t\t\t\t\t\tvalue: e.value });\n\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn newItems;\n\t\t},\n\t\tchangeCompany: function changeCompany(e) {\n\t\t\tthis.companyIndex = e.detail.value;\n\t\t\tthis.companyVal = this.companyList[e.detail.value].value;\n\t\t\tthis.companyText = this.companyList[this.companyIndex].text;\n\t\t\tthis.projectIndex = 0;\n\t\t\tthis.getProject();\n\t\t},\n\t\tchangeProject: function changeProject(e) {\n\t\t\tthis.projectIndex = e.detail.value;\n\t\t\tthis.projectVal = this.projectList[e.detail.value].value;\n\t\t\tthis.projectText = this.projectList[this.projectIndex].text;\n\t\t\tthis.areaIndex = 0;\n\t\t\tthis.getArea();\n\t\t},\n\t\tchangeArea: function changeArea(e) {\n\t\t\tthis.areaIndex = e.detail.value;\n\t\t\tthis.areaText = this.areaList[this.areaIndex].text;\n\t\t\tthis.areaVal = this.areaList[this.areaIndex].value;\n\t\t},\n\t\tchangeUnit: function changeUnit(e) {\n\t\t\tthis.unitIndex = e.detail.value;\n\t\t\tthis.unitText = this.unitList[this.unitIndex].text;\n\t\t\tthis.unitVal = this.unitList[this.unitIndex].value;\n\t\t},\n\t\tchangeDanger: function changeDanger(e) {\n\t\t\tthis.dangerIndex = e.detail.value;\n\t\t\tthis.dangerVal = this.dangerList[this.dangerIndex].value;\n\t\t\tthis.dangerText = this.dangerList[this.dangerIndex].text;\n\t\t\tthis.dangerDesIndex = 0;\n\t\t\tthis.getDangerDes();\n\t\t},\n\t\tchangeDangerDes: function changeDangerDes(e) {\n\t\t\tthis.dangerDesIndex = e.detail.value;\n\t\t\tthis.dangerDesVal = this.dangerDesList[this.dangerDesIndex].value;\n\t\t\tthis.dangerDesText = this.dangerDesList[this.dangerDesIndex].text;\n\t\t},\n\t\tchangeDegree: function changeDegree(e) {\n\t\t\tthis.degreeIndex = e.detail.value;\n\t\t\tthis.degreeVal = this.degreeList[this.degreeIndex].value;\n\t\t\tthis.degreeText = this.degreeList[this.degreeIndex].text;\n\t\t},\n\t\tselectRect: function selectRect(e) {\n\t\t\tthis.isfirstopen += 1;\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../../../components/selectPeople' });\n\n\t\t}, selectNotice: function selectNotice() {\n\t\t\tthis.isfirstopen += 1;\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../../../components/selectPeopleMulti' });\n\n\t\t},\n\t\tchangeCheckDate: function changeCheckDate(e) {\n\t\t\tthis.checkDate = e.detail.value;\n\t\t},\n\t\tchangeDeadDate: function changeDeadDate(e) {\n\t\t\tthis.deadline = e.detail.value;\n\t\t},\n\t\tchangeReCheckDate: function changeReCheckDate(e) {\n\t\t\tthis.ReCheckDate = e.detail.value;\n\t\t},\n\t\tnameInput: function nameInput(e) {\n\t\t\tthis.title = e.detail.value;\n\t\t}, dongInput: function dongInput(e) {\n\t\t\tthis.dong = e.detail.value;\n\t\t}, cengInput: function cengInput(e) {\n\t\t\tthis.ceng = e.detail.value;\n\t\t}, recInput: function recInput(e) {\n\t\t\tthis.rectification = e.detail.value;\n\t\t}, radioChange: function radioChange(e) {\n\t\t\tthis.isDanger = e.detail.value;\n\t\t}, formcheck: function formcheck(data) {\n\t\t\tif (data.BranchCompany == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择公司',\n\t\t\t\t\tmask: false,\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\" });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.projectVal == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择项目',\n\t\t\t\t\tmask: false,\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\" });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (data.ResponsibilityArea == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择检查区域',\n\t\t\t\t\tmask: true,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\tduration: 1500 });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\n\t\t\tif (data.AdditionalUnit == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请填写整改单位',\n\t\t\t\t\tmask: false,\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\" });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (data.QualityDangerID == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择隐患类型',\n\t\t\t\t\tmask: false,\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\" });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (data.RectPeople == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择整改人',\n\t\t\t\t\tmask: true,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\tduration: 1500 });\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (data.NoticePeopleID == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择通知人',\n\t\t\t\t\tmask: false,\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\timage: null,\n\t\t\t\t\ticon: \"none\" });\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t//app压缩图片  用for循环 来处理图片压缩 的问题，原因是 plus.zip.compressImage 方法 是异步执行的，for循环很快， 同时手机可执行的压缩方法有限制：应该是3个吧。超出直接就不执行了。所以 原理就是 在图片压缩成功后 继续 回调 压缩函数。 以到达循环压缩图片的功能。\n\t\tapp_img: function app_img(num, rem) {\n\t\t\tvar that = this;\n\t\t\tvar index = rem.tempFiles[num].path.lastIndexOf(\".\"); //获取图片地址最后一个点的位置  \n\t\t\tvar img_type = rem.tempFiles[num].path.substring(index + 1, rem.tempFiles[num].path.length); //截取图片类型如png jpg\n\t\t\tvar img_yuanshi = rem.tempFiles[num].path.substring(0, index); //截取图片原始路径\n\t\t\tvar d2 = new Date().getTime(); //时间戳\n\t\t\tconsole.log(img_yuanshi);\n\t\t\t//压缩图片\n\t\t\tplus.zip.compressImage(\n\t\t\t{\n\t\t\t\tsrc: rem.tempFiles[num].path, //你要压缩的图片地址\n\t\t\t\tdst: img_yuanshi + d2 + '.' + img_type, //压缩之后的图片地址(注意压缩之后的路径最好和原生路径的位置一样，不然真机上报code-5)\n\t\t\t\tquality: 10 //[10-100]\n\t\t\t},\n\t\t\tfunction (e) {\n\t\t\t\tconsole.log(\"Compress success!\");\n\t\t\t\tconsole.log(JSON.stringify(e));\n\n\t\t\t\tthat.imageList = that.imageList.concat(e.target);\n\t\t\t\tconsole.log(JSON.stringify(that.imageList));\n\t\t\t\t//利用递归循环来实现多张图片压缩\n\t\t\t\tif (num == rem.tempFiles.length - 1) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthat.app_img(num + 1, rem);\n\t\t\t\t}\n\t\t\t\tconsole.log('end', that.imageList);\n\t\t\t}, function (error) {\n\t\t\t\tconsole.log(\"Compress error!\");\n\t\t\t\tconsole.log(JSON.stringify(error));\n\t\t\t});\n\n\t\t} } };\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)[\"default\"]))\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-loader/lib?{\"babelrc\":false,\"retainLines\":true,\"presets\":[[\"E://HBuilderX//plugins//uniapp//node_modules//babel-preset-env\",{\"modules\":\"commonjs\",\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"not ie <= 8\"]}}],\"E://HBuilderX//plugins//uniapp//node_modules//babel-preset-stage-2\"],\"plugins\":[[\"E://HBuilderX//plugins//uniapp//node_modules//babel-plugin-transform-runtime\",{\"helpers\":false,\"polyfill\":false,\"regenerator\":true,\"moduleName\":\"E://HBuilderX//plugins//uniapp//node_modules//babel-runtime\"}],\"E://HBuilderX//plugins//uniapp//node_modules//babel-plugin-transform-decorators-legacy\"]}!./lib/preprocessor-loader.js?{\"type\":\"js\",\"context\":{\"APP-PLUS\":true}}!./lib/mpvue-loader/lib/selector.js?type=script&index=0!F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/QualityEdit.vue\n// module id = 220\n// module chunks = 39\n\n//# sourceURL=uni-app:///pages/index/quality/QualityEdit.vue?0868");

/***/ }),

/***/ 221:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('view', {\n    staticClass: \"content\"\n  }, [_c('form', {\n    staticClass: \"input-form\",\n    attrs: {\n      \"action\": \"\",\n      \"eventid\": 'iqm-22'\n    },\n    on: {\n      \"submit\": _vm.safetySubmit,\n      \"reset\": _vm.formReset\n    }\n  }, [_c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-01.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"所属公司:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.companyIndex,\n      \"range\": _vm.companyList,\n      \"range-key\": \"text\",\n      \"eventid\": 'Xkj-0'\n    },\n    on: {\n      \"change\": _vm.changeCompany\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.companyText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-02.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"项目名称:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.projectIndex,\n      \"range\": _vm.projectList,\n      \"range-key\": \"text\",\n      \"eventid\": 'A5P-1'\n    },\n    on: {\n      \"change\": _vm.changeProject\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.projectText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-03.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"任务名称:\")])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.title),\n      expression: \"title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"placeholder\": \"请填写任务名称\",\n      \"eventid\": 'QOI-2'\n    },\n    domProps: {\n      \"value\": (_vm.title)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.title = $event.target.value\n      }, _vm.nameInput]\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-04.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"检查楼栋:\")])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.dong),\n      expression: \"dong\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"placeholder\": \"请填写检查楼栋号\",\n      \"eventid\": 'HwH-3'\n    },\n    domProps: {\n      \"value\": (_vm.dong)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.dong = $event.target.value\n      }, _vm.dongInput]\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-05.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"检查楼层:\")])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.ceng),\n      expression: \"ceng\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"placeholder\": \"请填写检查楼层号\",\n      \"eventid\": 'LBg-4'\n    },\n    domProps: {\n      \"value\": (_vm.ceng)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.ceng = $event.target.value\n      }, _vm.cengInput]\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-06.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"检查区域:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.areaIndex,\n      \"range\": _vm.areaList,\n      \"range-key\": \"text\",\n      \"eventid\": 'xDs-5'\n    },\n    on: {\n      \"change\": _vm.changeArea\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.areaText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-07.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"施工单位:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.unitIndex,\n      \"range\": _vm.unitList,\n      \"range-key\": \"text\",\n      \"eventid\": 'upp-6'\n    },\n    on: {\n      \"change\": _vm.changeUnit\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.unitText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-08.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"隐患类型:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.dangerIndex,\n      \"range\": _vm.dangerList,\n      \"range-key\": \"text\",\n      \"eventid\": 'UMQ-7'\n    },\n    on: {\n      \"change\": _vm.changeDanger\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.dangerText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-09.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"隐患描述:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.dangerDesVal,\n      \"range\": _vm.dangerDesList,\n      \"range-key\": \"text\",\n      \"eventid\": 'F8h-8'\n    },\n    on: {\n      \"change\": _vm.changeDangerDes\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.dangerDesText))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-11.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"整改人:\")])]), _c('input', {\n    attrs: {\n      \"type\": \"text\",\n      \"value\": _vm.rectpeople,\n      \"placeholder\": \"\",\n      \"eventid\": 'W8t-9'\n    },\n    on: {\n      \"tap\": _vm.selectRect\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-12.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"通知人:\")])]), _c('input', {\n    attrs: {\n      \"type\": \"text\",\n      \"value\": _vm.noticepeople,\n      \"placeholder\": \"\",\n      \"eventid\": 'JVZ-10'\n    },\n    on: {\n      \"tap\": _vm.selectNotice\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-14.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"检查日期:\")])]), _c('picker', {\n    attrs: {\n      \"mode\": \"date\",\n      \"value\": _vm.checkDate,\n      \"start\": \"2000-01-01\",\n      \"end\": \"2028-12-31\",\n      \"eventid\": 'Wqr-11'\n    },\n    on: {\n      \"change\": _vm.changeCheckDate\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.checkDate))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-13.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"整改期限:\")])]), _c('picker', {\n    attrs: {\n      \"mode\": \"date\",\n      \"value\": _vm.deadline,\n      \"start\": _vm.checkDate,\n      \"end\": \"2028-12-31\",\n      \"eventid\": 'OBP-12'\n    },\n    on: {\n      \"change\": _vm.changeDeadDate\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.deadline))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-13.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"复查日期:\")])]), _c('picker', {\n    attrs: {\n      \"mode\": \"date\",\n      \"value\": _vm.ReCheckDate,\n      \"start\": _vm.deadline,\n      \"end\": \"2028-12-31\",\n      \"eventid\": '18M-13'\n    },\n    on: {\n      \"change\": _vm.changeReCheckDate\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.ReCheckDate))])])], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-05.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"整改要求:\")])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.rectification),\n      expression: \"rectification\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"value\": \"\",\n      \"placeholder\": \"请填写整改要求\",\n      \"eventid\": 'O6H-14'\n    },\n    domProps: {\n      \"value\": (_vm.rectification)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.rectification = $event.target.value\n      }, _vm.recInput]\n    }\n  })]), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-15.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"是否隐患:\")])]), _c('radio-group', {\n    staticClass: \"radio-group\",\n    attrs: {\n      \"eventid\": 'iDM-15',\n      \"mpcomid\": 'tsy-0'\n    },\n    on: {\n      \"change\": _vm.radioChange\n    }\n  }, _vm._l((_vm.items), function(item, index) {\n    return _c('label', {\n      key: item,\n      staticClass: \"radio\"\n    }, [_c('radio', {\n      attrs: {\n        \"value\": item.value,\n        \"checked\": item.checked\n      }\n    }), _vm._v(_vm._s(item.name) + \"\\n\\t\\t\\t\\t\")], 1)\n  }))], 1), _c('view', {\n    staticClass: \"input-row\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-15.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"严重程度:\")])]), _c('picker', {\n    attrs: {\n      \"value\": _vm.degreeIndex,\n      \"range\": _vm.degreeList,\n      \"range-key\": \"text\",\n      \"eventid\": 'ySE-16'\n    },\n    on: {\n      \"change\": _vm.changeDegree\n    }\n  }, [_c('view', {\n    staticClass: \"uni-input\"\n  }, [_vm._v(_vm._s(_vm.degreeText))])])], 1), _c('view', {\n    staticClass: \"input-row-bottom-line\"\n  }), _c('view', {\n    staticClass: \"input-row-my\"\n  }, [_c('view', {\n    staticClass: \"input-label\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": \"../../../static/img/list1_icon/list1_icon-15.png\",\n      \"mode\": \"\"\n    }\n  }), _c('text', [_vm._v(\"请选择图片:\")])])]), _c('view', [_c('view', {\n    staticClass: \"uni-list-cell cell-pd\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader-head\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader-title\"\n  }, [_vm._v(\"点击可预览选好的图片\")]), _c('view', {\n    staticClass: \"uni-uploader-info\"\n  }, [_vm._v(_vm._s(_vm.imageList.length) + \"/9\")])]), _c('view', {\n    staticClass: \"uni-uploader-body\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__files\"\n  }, _vm._l((_vm.imageList), function(image, index) {\n    return _c('block', {\n      key: index\n    }, [_c('view', {\n      staticClass: \"uni-uploader__file\"\n    }, [_c('image', {\n      staticClass: \"uni-uploader__img\",\n      attrs: {\n        \"src\": image,\n        \"data-src\": image,\n        \"eventid\": '8R4-17-' + index\n      },\n      on: {\n        \"tap\": _vm.previewImage\n      }\n    })])])\n  })), _c('view', {\n    staticClass: \"uni-uploader__input-box_my\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__input_my\",\n    attrs: {\n      \"eventid\": '522-18'\n    },\n    on: {\n      \"tap\": _vm.removeImage\n    }\n  })]), _c('view', {\n    staticClass: \"uni-uploader__input-box\"\n  }, [_c('view', {\n    staticClass: \"uni-uploader__input\",\n    attrs: {\n      \"eventid\": 'hRs-19'\n    },\n    on: {\n      \"tap\": _vm.chooseImage\n    }\n  })])])])])]), _c('view', {\n    staticClass: \"mysubmit\"\n  }, [_c('button', {\n    staticClass: \"search-btn\",\n    attrs: {\n      \"size\": \"mini\",\n      \"eventid\": 'tzQ-20'\n    },\n    on: {\n      \"tap\": _vm.submit\n    }\n  }, [_vm._v(\"提交\")]), _c('button', {\n    staticClass: \"search-btn\",\n    attrs: {\n      \"size\": \"mini\",\n      \"type\": \"default\",\n      \"eventid\": 'a6Q-21'\n    },\n    on: {\n      \"tap\": _vm.tempS\n    }\n  }, [_vm._v(\"暂存\")])], 1)])], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-09a1fc4f\", esExports)\n  }\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-09a1fc4f\",\"hasScoped\":true,\"preserveWhitespace\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"APP-PLUS\":true}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!F:/施工管理平台/20181101/XC.qsp.app/pages/index/quality/QualityEdit.vue\n// module id = 221\n// module chunks = 39\n\n");

/***/ })

},[217]);